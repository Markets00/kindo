ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 1.
Hexadecimal [16-Bits]



                              1 .area _DATA
                              2 .area _CODE
                              3 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 2.
Hexadecimal [16-Bits]



                              4 .include "utility.h.s"
                              1 ;; ====================================
                              2 ;; ====================================
                              3 ;; INCLUDED CPCTELERA FUNCTIONS
                              4 ;; ====================================
                              5 ;; ====================================
                              6 .globl cpct_waitVSYNC_asm
                              7 .globl cpct_drawSolidBox_asm
                              8 .globl cpct_getScreenPtr_asm
                              9 .globl cpct_scanKeyboard_asm
                             10 .globl cpct_isKeyPressed_asm
                             11 .globl cpct_disableFirmware_asm
                             12 .globl cpct_setVideoMode_asm
                             13 .globl cpct_setPalette_asm
                             14 .globl cpct_memcpy_asm
                             15 .globl negateHL
                             16 .globl cpct_setVideoMemoryPage_asm
                             17 .globl cpct_akp_musicPlay_asm
                             18 .globl cpct_akp_stop_asm
                             19 .globl cpct_drawSprite_asm
                             20 .globl cpct_setInterruptHandler_asm
                             21 .globl cpct_setPALColour_asm
                             22 .globl cpct_drawStringM2_asm
                             23 .globl cpct_drawStringM1_asm
                             24 .globl cpct_etm_setTileset2x4_asm
                             25 .globl cpct_etm_drawTileBox2x4_asm
                             26 .globl cpct_etm_drawTilemap2x4_f_asm
                             27 .globl cpct_drawSpriteMaskedAlignedTable_asm
                             28 .globl cpct_drawSpriteMasked_asm
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 3.
Hexadecimal [16-Bits]



                              5 .include "game.h.s"
                              1 ;; ====================================
                              2 ;; ====================================
                              3 ;; GAME PUBLIC FUNCTIONS
                              4 ;; ====================================
                              5 ;; ====================================
                              6 .globl gameStart
                              7 .globl getVideoPtr
                              8 .globl incTeam1Points
                              9 .globl incTeam2Points
                             10 .globl player_data
                             11 .globl enemy_data
                             12 .globl player2_data
                             13 .globl enemy2_data
                             14 .globl game_data
                             15 .globl paletteM1
                             16 .globl paletteM2
                             17 ;;.globl paletteM0
                             18 .globl blackPaletteM1
                             19 ;; ====================================
                             20 ;; ====================================
                             21 ;; GAME PUBLIC DATA
                             22 ;; ====================================
                             23 ;; ====================================
                     0050    24 .equ RIGHT_LIMIT,	80
                     0000    25 .equ LEFT_LIMIT,	0
                     0020    26 .equ TOP_LIMIT,	 	32
                     00C8    27 .equ BOTTOM_LIMIT,	200
                     0028    28 .equ CENTER_LIMIT,	40
                             29 
                             30 
                     002A    31 .equ map_tH, 42
                     0028    32 .equ map_tW, 40
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 4.
Hexadecimal [16-Bits]



                              6 
                              7 ;; definición de las teclas que necesitaremos
                     0100     8   Key_CursorUp     = 0x0100
                     0101     9   Key_CursorLeft   = 0x0101
                     0400    10   Key_CursorDown   = 0x0400
                     0200    11   Key_CursorRight  = 0x0200
                     8005    12   Key_Space        = 0x8005
                     4000    13   Key_Enter        = 0x4000
                             14 
                             15 ;; ====================================
                             16 ;; ====================================
                             17 ;; PRIVATE DATA
                             18 ;; ====================================
                             19 ;; ====================================
                             20 
                             21 ;; .equ mi_constante0, 0
                             22 ;; .equ mi_constante1, 1
   0000 4D 65 6E 75 00       23 menuString:				.asciz "Menu"
   0005 50 6C 61 79 00       24 playString:				.asciz "Play"
   000A 4F 70 74 69 6F 6E    25 optionsString:			.asciz "Options"
        73 00
   0012 43 72 65 64 69 74    26 creditsString:			.asciz "Credits"
        73 00
   001A 49 6E 74 72 75 63    27 menuInstrucString:		.asciz "Intructions"
        74 69 6F 6E 73 00
                             28 
   0026 3C 00                29 leftArrowCharacter: 	.asciz "<"
   0028 3E 00                30 rightArrowCharacter:	.asciz ">"
   002A 54 69 6D 65 00       31 timeString: 			.asciz "Time"
   002F 53 63 6F 72 65 00    32 scoreString:			.asciz "Score"
   0035 57 69 6E 20 43 6F    33 winCondString: 			.asciz "Win Condition"
        6E 64 69 74 69 6F
        6E 00
                             34 
                     C850    35 .equ menuPos_1, 0xC850
                     C940    36 .equ menuPos_2, 0xC940
                     CA30    37 .equ menuPos_3, 0xCA30
                     CB20    38 .equ menuPos_4, 0xCB20
                     CC10    39 .equ menuPos_5, 0xCC10
                     CD00    40 .equ menuPos_6, 0xCD00
                     CDF0    41 .equ menuPos_7, 0xCDF0
                             42 
                             43 ;; .equ minCursorPos, 0xC88F	;; Saves the MIN position posible of the cursor.
                             44 ;; .equ maxCursorPos, 0xC97F	;; 2 ;; Saves the MIN position posible of the cursor.
                             45 ;; .equ maxCursorPos, 0xCA6F	;; 3 ;; Saves the MAX position posible of the cursor.
                             46 ;; .equ maxCursorPos, 0xCB5F	;; 4 ;; Saves the MAX position posible of the cursor.
                             47 
                     C6E0    48 .equ instrPos, 0xC6E0
                             49 
                             50 .globl _sprite_frisbeeMenu
                             51 
                             52 ;; ====================================
                             53 ;; ====================================
                             54 ;; PUBLIC FUNCTIONS
                             55 ;; ====================================
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 5.
Hexadecimal [16-Bits]



                             56 ;; ====================================
   0043                      57 menuStart::
   0043 CD 33 01      [17]   58 	call 	initializeMenu
                             59 
   0046 21 00 00      [10]   60 	ld	hl, #_sprite_frisbeeMenu
   0049 ED 5B 58 00   [20]   61 	ld 	de, (cursorPos)
   004D 06 08         [ 7]   62 	ld 	b, #8 		;; B = ent height
   004F 0E 02         [ 7]   63 	ld 	c, #2		;; C = ent width
   0051 CD 00 00      [17]   64 	call cpct_drawSprite_asm
                             65 
   0054 CD 5A 00      [17]   66 	call checkSelection
                             67 	;; if i == 0 -> play
                             68 	;; if i == 1 -> options
                             69 
                             70 	;; Do stuff here...
                             71 	;; Do stuff here...
                             72 	;; Do stuff here...
   0057 C9            [10]   73 	ret 
                             74 
                             75 
                             76 
                     0002    77 cursor_W 	= 2
                     0008    78 cursor_H 	= 8
                     0006    79 max_index_value	= 6
                     00F0    80 addPosition	= 0xF0 			;; Sums to the next position (or substrct to the previous one)
                     FFFFFF10    81 subPosition	= #-240
   0058 8F C8                82 cursorPos: 	.dw 0xC88F		;; Saves the cursor position
                             83 
                             84 
                             85 ;; =======================================
                             86 ;; Mueve el índice a la posición indicada
                             87 ;; Modifica: AF, BC, DE, HL
                             88 ;; Devuelve:
                             89 ;;	A <= Selected index [0 - 6]
                             90 ;; =======================================
   005A                      91 checkSelection:: 
   005A 3E 00         [ 7]   92 	ld	a, #0			;; Initialize A to 0 as starting index
                             93 
   005C                      94 	selection_waitting:
   005C F5            [11]   95 		push 	af
                             96 
   005D CD 00 00      [17]   97 		call 	cpct_scanKeyboard_asm
                             98 
   0060 21 00 40      [10]   99 		ld 	hl, #Key_Enter
   0063 CD 00 00      [17]  100 		call 	cpct_isKeyPressed_asm	;; A <= True/False
   0066 FE 00         [ 7]  101 		cp 	#0 
   0068 28 02         [12]  102 		jr 	z, enter_not_pressed	;; Is enter key pressed?
   006A F1            [10]  103 			pop af			;; A <= final index selected
   006B C9            [10]  104 			ret
                            105 
   006C                     106 		enter_not_pressed:
   006C F1            [10]  107 			pop af			;; A <= index value
   006D CD 91 00      [17]  108 			call checkCursor	;; check cursor movement
   0070 18 EA         [12]  109 			jr selection_waitting
                            110 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 6.
Hexadecimal [16-Bits]



   0072 C9            [10]  111 	ret
                            112 
                            113 ;; =======================================
                            114 ;; Mueve el índice a la posición indicada
                            115 ;; Entrada:
                            116 ;;	HL <= pointer to new position
                            117 ;; Modifica: AF, BC, DE, HL
                            118 ;; =======================================
   0073                     119 reDrawCursor::
   0073 E5            [11]  120 	push hl
                            121 
   0074 ED 5B 58 00   [20]  122 	ld de, (cursorPos)		;; alomejor esto no compila
   0078 3E FF         [ 7]  123 	ld a, #0xFF
   007A 06 08         [ 7]  124 	ld b, #cursor_H
   007C 0E 02         [ 7]  125 	ld c, #cursor_W
   007E CD 00 00      [17]  126 	call cpct_drawSolidBox_asm	;; Erase last index position
                            127 
   0081 E1            [10]  128 	pop hl
   0082 22 58 00      [16]  129 	ld (cursorPos), hl		;; Update cursorPos to the new position after erasing
                            130 
   0085 EB            [ 4]  131 	ex 	de, hl			;; DE <= pointer to new position
   0086 21 00 00      [10]  132 	ld	hl, #_sprite_frisbeeMenu;; HL <= cursor sprite pointer
   0089 06 08         [ 7]  133 	ld 	b, #cursor_H		;; B = height
   008B 0E 02         [ 7]  134 	ld 	c, #cursor_W		;; C = width
   008D CD 00 00      [17]  135 	call cpct_drawSprite_asm
                            136 
   0090 C9            [10]  137 	ret
                            138 
                            139 
                            140 ;; =================================
                            141 ;; Chequea si el índice debe moverse
                            142 ;; Entrada:
                            143 ;;	A <= starting index
                            144 ;; Modifica: AF, BC, DE, HL
                            145 ;; Devuelve:
                            146 ;; 	A => selected index
                            147 ;; =================================
   0091                     148 checkCursor::
   0091 F5            [11]  149 	push 	af			;; Save the index at the stack
   0092 21 00 01      [10]  150 	ld 	hl, #Key_CursorUp
   0095 CD 00 00      [17]  151 	call 	cpct_isKeyPressed_asm	;; A <= True/False
   0098 FE 00         [ 7]  152 	cp 	#0 
   009A 28 19         [12]  153 	jr 	z, up_not_pressed	;; Is up key pressed?
                            154 		;; Up pressed
   009C F1            [10]  155 			pop af
   009D 3D            [ 4]  156 			dec a
   009E FA B3 00      [10]  157 			jp	m, cant_dec_index
                            158 				;; decrement index
   00A1 F5            [11]  159 				push af				;; Save the index
                            160 
   00A2 2A 58 00      [16]  161 				ld 	hl, (cursorPos)		;; HL <= Cursor position
   00A5 11 10 FF      [10]  162 				ld	de, #subPosition	;; DE <= Negative value to substract to cursor position
   00A8 19            [11]  163 				add	hl, de			;; HL <= Cursor position - SubPosition
   00A9 CD 73 00      [17]  164 				call 	reDrawCursor
                            165 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 7.
Hexadecimal [16-Bits]



   00AC 3E 0A         [ 7]  166 				ld	a, #10
   00AE CD DC 00      [17]  167 				call 	wait_X_halts
                            168 
   00B1 F1            [10]  169 				pop af				;; Restore the index before looping
   00B2 C9            [10]  170 				ret
   00B3                     171 			cant_dec_index:
   00B3 3C            [ 4]  172 				inc a 				;; Restore index value
   00B4 C9            [10]  173 				ret
   00B5                     174 	up_not_pressed:
   00B5 21 00 04      [10]  175 	ld 	hl, #Key_CursorDown
   00B8 CD 00 00      [17]  176 	call 	cpct_isKeyPressed_asm	;; A <= True/False
   00BB FE 00         [ 7]  177 	cp 	#0 
   00BD 28 1B         [12]  178 	jr 	z, down_not_pressed	;; Is down key pressed?
                            179 		;; Down pressed
   00BF F1            [10]  180 			pop 	af
   00C0 3C            [ 4]  181 			inc 	a
   00C1 FE 06         [ 7]  182 			cp  	#max_index_value
   00C3 F2 D8 00      [10]  183 			jp	p, cant_inc_index
                            184 				;; increment index
   00C6 F5            [11]  185 				push af				;; Save the index
                            186 
   00C7 2A 58 00      [16]  187 				ld 	hl, (cursorPos)		;; HL <= Cursor position
   00CA 11 F0 00      [10]  188 				ld	de, #addPosition	;; DE <= Positive value to add to cursor position
   00CD 19            [11]  189 				add	hl, de			;; HL <= Cursor position + AddPosition
   00CE CD 73 00      [17]  190 				call 	reDrawCursor
                            191 
   00D1 3E 0A         [ 7]  192 				ld	a, #10
   00D3 CD DC 00      [17]  193 				call 	wait_X_halts
                            194 
   00D6 F1            [10]  195 				pop af				;; Restore the index before looping
   00D7 C9            [10]  196 				ret
   00D8                     197 			cant_inc_index:
   00D8 3D            [ 4]  198 				dec a 				;; Restore index value
   00D9 C9            [10]  199 				ret
   00DA                     200 	down_not_pressed:
                            201 		;; Any key pressed
   00DA F1            [10]  202 		pop af
   00DB C9            [10]  203 	ret
                            204 
                            205 ;; =================================
                            206 ;; Espera 8 halts, N veces
                            207 ;; Entrada:
                            208 ;;	A <= N times
                            209 ;; Modifica: A
                            210 ;; =================================
   00DC                     211 wait_X_halts::
   00DC 3D            [ 4]  212 	dec a
   00DD 28 09         [12]  213 	jr z, wait_halts_exit
   00DF 76            [ 4]  214 		halt
   00E0 76            [ 4]  215 		halt
   00E1 76            [ 4]  216 		halt
   00E2 76            [ 4]  217 		halt
   00E3 76            [ 4]  218 		halt
   00E4 76            [ 4]  219 		halt
   00E5 76            [ 4]  220 		halt
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 8.
Hexadecimal [16-Bits]



   00E6 18 F4         [12]  221 		jr wait_X_halts
   00E8                     222 	wait_halts_exit:
   00E8 C9            [10]  223 	ret
                            224 
                            225 ;; Sets the palette to mode 0
                            226 ;;setPaletteM0::
                            227 ;;	ld c, #0					;; Mode 0
                            228 ;;	call cpct_setVideoMode_asm
                            229 ;;
                            230 ;;	ld hl, #paletteM0			;; hl <- paletteM0
                            231 ;;	ld de, #16 					;; 16 Colours
                            232 ;;	call cpct_setPalette_asm
                            233 ;;
                            234 ;;	ret
                            235 
                            236 ;; Sets the palette to mode 1
   00E9                     237 setPaletteM1::
   00E9 0E 01         [ 7]  238 	ld c, #1					;; Mode 1
   00EB CD 00 00      [17]  239 	call cpct_setVideoMode_asm
                            240 
   00EE 21 00 00      [10]  241 	ld hl, #paletteM1			;; hl <- paletteM1
   00F1 11 04 00      [10]  242 	ld de, #4 					;; 4 Colours
   00F4 CD 00 00      [17]  243 	call cpct_setPalette_asm
                            244 
   00F7 C9            [10]  245 	ret
                            246 
                            247 ;; Sets the palette to black on mode 1
   00F8                     248 setPaletteBlackM1::
   00F8 0E 01         [ 7]  249 	ld c, #1					;; Mode 1
   00FA CD 00 00      [17]  250 	call cpct_setVideoMode_asm
                            251 
   00FD 21 00 00      [10]  252 	ld hl, #blackPaletteM1		;; hl <- blackPaletteM1
   0100 11 04 00      [10]  253 	ld de, #4 					;; 4 Colours
   0103 CD 00 00      [17]  254 	call cpct_setPalette_asm
                            255 
   0106 C9            [10]  256 	ret
                            257 
   0107                     258 menuOptions::
                            259 
                            260 	;; Clean from C000 to EFFF
   0107 21 00 C0      [10]  261 	ld	hl, #0xC000			;; HL <= Copy pointer
   010A 11 01 C0      [10]  262 	ld	de, #0xC001			;; DE <= Write pointer
   010D 36 FF         [10]  263 	ld	(hl), #0xFF			;; Set to 0 where HL points
   010F 01 00 40      [10]  264 	ld	bc, #0x4000			;; BC <= Times to repeat
   0112 ED B0         [21]  265 	ldir					;; Copy from where HL points to where DE points, and inc HL and DE, BC times
                            266 
                            267 	;; Print Menu
   0114 21 35 00      [10]  268 	ld hl, #winCondString
   0117 11 00 C0      [10]  269 	ld de, #0xC000
   011A 0E 02         [ 7]  270 	ld c, #2
   011C 06 03         [ 7]  271 	ld b, #3
   011E CD 00 00      [17]  272 	call cpct_drawStringM1_asm
                            273 
   0121                     274 	menuOptions_iterate:
   0121 CD 00 00      [17]  275 	call cpct_scanKeyboard_asm
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 9.
Hexadecimal [16-Bits]



   0124 21 00 40      [10]  276 	ld 	hl, #Key_Enter				;; HL <- Key_Space
   0127 CD 00 00      [17]  277 	call 	cpct_isKeyPressed_asm	;; A = True/False
   012A FE 00         [ 7]  278 	cp 	#0 							;; A == 0?
   012C 28 F3         [12]  279 	jr 	z, menuOptions_iterate				;; Iterate
   012E C3 43 00      [10]  280 		jp menuStart				;; Go Options (HL presed)
                            281 
   0131 C9            [10]  282 	ret
                            283 
                            284 
                            285 ;; ====================================
                            286 ;; ====================================
                            287 ;; PRIVATE FUNCTIONS
                            288 ;; ====================================
                            289 ;; ====================================
                            290 
   0132                     291 checkUserInput:
                            292 	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            293 	;; Reading keyboard example
                            294 	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            295 	;; 	call cpct_scanKeyboard_asm
                            296 	;; 	ld 	hl, #Key_CursorUp	;; HL = CursorUp Keycode
                            297 	;; 	call 	cpct_isKeyPressed_asm 	;; A = True/False
                            298 	;; 	cp 	#0 			;; A == 0?
                            299 	;; 	jr 	z, up_not_pressed
                            300 	;; 		;; Up is pressed code
                            301 	;; 		call 	moveUp	
                            302 	;; 	up_not_pressed:
                            303 	;; 		;; Up is not pressed code
                            304 	;; 		ld 	hl, #Key_CursorDown		;; HL = CursorDown Keycode
                            305 	;; 		call 	cpct_isKeyPressed_asm 		;; A = True/False
                            306 	;; 		cp 	#0 				;; A == 0?
                            307 	;; 		jr 	z, down_not_pressed
                            308 	;; 			;; Down is pressed code
                            309 	;; 			call 	moveDown	
                            310 	;; 		down_not_pressed:
                            311 	;; 		;; Down is not pressed code
                            312 
   0132 C9            [10]  313 	ret
                            314 
                            315 ;; ========================
                            316 ;; Write the menu strings
                            317 ;; ========================
   0133                     318 initializeMenu:
   0133 CD E9 00      [17]  319 	call setPaletteM1
                            320 
                            321 	;; Clean from C000 to EFFF
   0136 21 00 C0      [10]  322 	ld	hl, #0xC000			;; HL <= Copy pointer
   0139 11 01 C0      [10]  323 	ld	de, #0xC001			;; DE <= Write pointer
   013C 36 FF         [10]  324 	ld	(hl), #0xFF			;; Set to 0 where HL points
   013E 01 00 40      [10]  325 	ld	bc, #0x4000			;; BC <= Times to repeat
   0141 ED B0         [21]  326 	ldir					;; Copy from where HL points to where DE points, and inc HL and DE, BC times
                            327 
                            328 	;; Print Menu
   0143 21 00 00      [10]  329 	ld hl, #menuString
   0146 11 00 C0      [10]  330 	ld de, #0xC000
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 10.
Hexadecimal [16-Bits]



   0149 0E 02         [ 7]  331 	ld c, #2
   014B 06 03         [ 7]  332 	ld b, #3
   014D CD 00 00      [17]  333 	call cpct_drawStringM1_asm
                            334 
                            335 	;; Print Play
   0150 21 05 00      [10]  336 	ld hl, #playString
   0153 11 50 C8      [10]  337 	ld de, #menuPos_1
   0156 0E 02         [ 7]  338 	ld c, #2
   0158 06 03         [ 7]  339 	ld b, #3
   015A CD 00 00      [17]  340 	call cpct_drawStringM1_asm
                            341 
                            342 	;; Print Options
   015D 21 0A 00      [10]  343 	ld hl, #optionsString
   0160 11 40 C9      [10]  344 	ld de, #menuPos_2
   0163 0E 02         [ 7]  345 	ld c, #2
   0165 06 03         [ 7]  346 	ld b, #3
   0167 CD 00 00      [17]  347 	call cpct_drawStringM1_asm
                            348 
   016A 21 00 00      [10]  349 	ld hl, #menuString
   016D 11 30 CA      [10]  350 	ld de, #menuPos_3
   0170 0E 02         [ 7]  351 	ld c, #2
   0172 06 03         [ 7]  352 	ld b, #3
   0174 CD 00 00      [17]  353 	call cpct_drawStringM1_asm
                            354 
   0177 21 05 00      [10]  355 	ld hl, #playString
   017A 11 20 CB      [10]  356 	ld de, #menuPos_4
   017D 0E 02         [ 7]  357 	ld c, #2
   017F 06 03         [ 7]  358 	ld b, #3
   0181 CD 00 00      [17]  359 	call cpct_drawStringM1_asm
                            360 
   0184 21 0A 00      [10]  361 	ld hl, #optionsString
   0187 11 10 CC      [10]  362 	ld de, #menuPos_5
   018A 0E 02         [ 7]  363 	ld c, #2
   018C 06 03         [ 7]  364 	ld b, #3
   018E CD 00 00      [17]  365 	call cpct_drawStringM1_asm
                            366 
   0191 21 00 00      [10]  367 	ld hl, #menuString
   0194 11 00 CD      [10]  368 	ld de, #menuPos_6
   0197 0E 02         [ 7]  369 	ld c, #2
   0199 06 03         [ 7]  370 	ld b, #3
   019B CD 00 00      [17]  371 	call cpct_drawStringM1_asm
                            372 
   019E 21 05 00      [10]  373 	ld hl, #playString
   01A1 11 F0 CD      [10]  374 	ld de, #menuPos_7
   01A4 0E 02         [ 7]  375 	ld c, #2
   01A6 06 03         [ 7]  376 	ld b, #3
   01A8 CD 00 00      [17]  377 	call cpct_drawStringM1_asm
                            378 
   01AB 21 1A 00      [10]  379 	ld hl, #menuInstrucString
   01AE 11 E0 C6      [10]  380 	ld de, #instrPos
   01B1 0E 02         [ 7]  381 	ld c, #2
   01B3 06 03         [ 7]  382 	ld b, #3
   01B5 CD 00 00      [17]  383 	call cpct_drawStringM1_asm
                            384 	;; Set video mode
                            385 	;; ld 	c, #1 ;; Set mode 1.
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 11.
Hexadecimal [16-Bits]



                            386 	;; call cpct_setVideoMode_as
                            387 
                            388 	;; Set palette
                            389 	;; ld 	hl, #direccion_paleta
                            390 	;; ld 	de, #16
                            391 	;; call cpct_setPalette_asm
                            392 
   01B8 C9            [10]  393 	ret
                            394 
                            395 
                            396 ;; ========================
                            397 ;; Print Credits
                            398 ;; ========================
   01B9                     399 printCreditLine:
                            400 	;;ld hl, #elString
                            401 	;;ld de, #video_memory
                            402 	;;ld c, #Color_Letra
                            403 	;;cd b, #Color_fondo
                            404 ;;
                            405 	;;call cpct_drawStringM1_asm
                            406 
   01B9 C9            [10]  407 	ret
